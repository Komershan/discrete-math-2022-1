\subsection{Сочетания с повторениями. Количество решений уравнения $x_1 + x_2 + ... + x_n = k$ в неотрицательных целых числах.}

\begin{itemize}
	\item \textbf{Сочетания с повторениями}
	
	Обозначим исходное множество за $\{a_1, a_2, ..., a_n\}$. Пусть у нас есть сочетание с повторениями размера $k$ из этого множества. Сопоставим ему следующую последовательность $0$ и $1$:
	$$\underbrace{11...1}_{cnt_{a_1}}0\underbrace{11...1}_{cnt_{a_2}}0...\underbrace{11...1}_{cnt_{a_n}}0$$
	где $cnt_{a_i}$ - количество элементов $a_i$ в сочетании.
	
	Теперь заметим несколько фактов:
	\begin{enumerate}
		\item Длина такой последовательности равна $n + k - 1$, так как сумма всех $cnt_{a_i}$ равна размеру сочетания, то есть $k$, а количество нулей равно $n - 1$.
		\item Такое отображение будет биективным, так как два разных сочетания переходят в разные последовательности (если два сочетания не равны, то они различаются хотя бы в одной позиции. Возьмем первую такую позицию, пусть в первом сочетании там стоит $a$, а во втором $b$. Тогда при построении двоичной последовательности после $\min{(a, b)}$ единиц в одной последовательности последует $0$, а в другой $1$, следовательно не равны) и для любой подходящей последовательности найдется соответствующее ей сочетание.
	\end{enumerate}

	Поскольку между множествами существует биекция, их мощности равны. Значит количество сочетаний с повторениями равно количеству двоичных последовательностей вышеуказанного вида. А оно равно $C^k_{n+k-1}$, так как выбрав позиции единиц, мы однозначно можем восстановить позиции нулей. То есть $\overline C^k_n = C^k_{n+k-1}$, ч.т.д.
	
	\item \textbf{Количество решений уравнения $x_1 + x_2 + ... + x_n = k, x_i \geqslant 0, x_i \in \Z$}
	
	Для начала решим аналогичную задачу, но с ограничем $x_i \geqslant 1$. Применим метод шаров и перегородок. Пусть у нас есть $k$ шаров, расположенных в линию и мы поставили между ними $n - 1$ перегородку, причем никакие две перегородки не идут подряд (то есть не разделяют одинаковые пары шаров). Тогда пусть $x_i$ это будет количество шаров до $i$-й перегородки. Понятно, что тогда выполняется условие $\sum_{i=1}^{n}x_i = k$. То есть количество решений уравнений сводится к количеству способов расставить перегородки в такой модели. У нас есть $(k - 1)$ позиция куда мы можем поставить перегородку и их количество равно $(n - 1)$, значит число способов равно $C^{n-1}_{k-1}$.
	
	Теперь сведем исходную задачу к той что мы решили:
	
	$x_1 + x_2 + ... + x_n = k$
	
	$y_i = x_i + 1, \; y_i \geqslant 1$
	
	$(y_1 + 1) + (y_2 + 1) + ... + (y_n + 1) = k$
	
	$y_1 + y_2 + ... + y_n = k + n$
	
	А значит количество решений равно $C^{n-1}_{k+n-1} = C^{k}_{n+k-1}$, ч.т.д.
\end{itemize}